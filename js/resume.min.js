const month=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function generateResume(){getFile("./json/resume.json").then(items=>{BuildExperence(items.work),renderSkillsLists(items.skills),BuildHeader(items.basics),BuildEdu(items.education),BuildBasic(items.basics)})}function BuildBasic(basicItem){singleBind(item=>`<div class="card text-white gradient-card">
  <img class="card-img-top" src="img/original/${item.picture}" alt="me" />
  <div class="card-body">${item.summary}
    <ul class="list-group custom-transparent-list text-white mt-2">
      <li class="list-group-item d-flex justify-content-between align-items-start  custom-transparent-item">
        <div class="ms-2 me-auto">
          <div class="fw-bold"><a href="tel:${item.phone}">${item.phone}</a></div>Cellular</div>
        <i class="fa-solid fa-2x fa-phone"></i>      
      </li>
      <li class="list-group-item d-flex justify-content-between align-items-start  custom-transparent-item">
      <div class="ms-2 me-auto">
        <div class="fw-bold"><a href="mailto:${item.email}">${item.email}</a></div>personal</div>
      <i class="fa-solid fa-2x fa-envelope"></i>      
      </li>
      <li class="list-group-item d-flex justify-content-between align-items-start  custom-transparent-item">
      <div class="ms-2 me-auto"><div class="fw-bold">${item.region}</div>region I live in</div>
      <i class="fa-solid fa-2x fa-house"></i>
      </li>
      ${buildprofiles(item.profiles)}
    </ul>
  <div>
</div>`,basicItem,"BasicItems")}function buildprofiles(listItems){return templateArrayToString(item=>`
  <li class="list-group-item d-flex justify-content-between align-items-start custom-transparent-item">
    <div class="ms-2 me-auto">
      <div class="fw-bold"><a href="${item.url}" target="_blank">@${item.username}</a></div>
      ${item.network}
    </div>
    <i class="${socialMediaIcon(item.network)} fa-2x"></i>      
  </li>`,listItems)}function BuildHeader(basicItem){singleBind(basicItem=>`<div class="lh-100"><h1 class="mb-0 text-white lh-100 display-1"> ${basicItem.name}</h1><p class="h2">${basicItem.headline}</p></div>`,basicItem,"HeaderItem")}function BuildEdu(eduItems){innerBind(data=>`<div>
  <div class="card mb-3 bg-transparent">
    <div class="row g-0 transparent-list">
      <div class="col-md-8 transparent-list">
        <div class="card-body transparent-list">
          <h5 class="card-title transparent-list text-white">${data.studyType} @ The ${data.institution}</h5>
        </div>
      </div>
      <div class="col-md-4 transparent-list">
        <img src="img/original/${data.institution}.webp" class="img-fluid rounded-end" alt="${data.institution}">
      </div>
    </div>
    <div class="row g-0 transparent-list">
      <p class="card-text transparent-list text-white">Major: ${data.area}</p>
      <p class="card-text transparent-list text-white"><small class="text-white">${parseWorkDate(data.startDate)} - ${parseWorkDate(data.endDate)}</small></p>
    </div>
  </div>
</div>`,eduItems,"EduItems")}function renderSkillsLists(skills){innerBind(skill=>`<li class="list-group-item custom-transparent-item">
  <h3 class="h5">${skill.name}</h3>
  <div class="custom-progress" id="customProgressBar">
    <div class="progress-bar" style="width: ${getProgressBarWidth(skill.rating)}%"></div>
    <div class="progress-dot" style="left: calc(${getProgressBarWidth(skill.rating)}% - 5px"></div>
  </div>
</li>`,skills.slice(0,4),"SkillItems");document.getElementById("otherSkillsList").innerHTML='<h4 class="card-title">Other Skills</h4>'+templateArrayToString(skill=>`<span class="badge line text-white custom-pill"> ${skill.name}</span>`,skills.slice(4))}const getProgressBarWidth=rating=>20*rating||50,singleBind=(template,data,elementName)=>document.getElementById(elementName).innerHTML=template(data),innerBind=(template,dataArray,elementName)=>document.getElementById(elementName).insertAdjacentHTML("beforeend",dataArray.map(item=>template(item)).join("")),templateArrayToString=(template,dataArray)=>dataArray.map(item=>template(item)).join("");function BuildExperence(experenceItems){innerBind(d=>`<div class="media text-muted pt-3 lh-125 border-bottom border-gray">
  <div class="container">
    <div class="row text-PageBlue"><h2 class="h4">${d.position} @ ${d.company}</h2></div>
    <div class="row"><span class="lead"> <span class="text-PageBlue">${parseWorkDate(d.startDate)} - ${parseWorkDate(d.endDate)}</span> ${calculateDuration(d.start,d.end)} - ${d.location}</div>
    <div class="row"><div class="col"><p class="media-body pb-3 mb-0"> ${d.summary}<ul>${generateHighlightlist(d.highlights)}</ul></p></div></div>
  </div>   
</div>`,experenceItems,"ExperenceItems")}function calculateDuration(start,end){var start=new Date(start.year,start.month-1),end=end?.year?new Date(end.year,end.month-1):new Date,end=12*(end.getFullYear()-start.getFullYear())+end.getMonth()-start.getMonth()+1,start=Math.floor(end/12),end=end%12,yearLabel=1===start?"year":"years",monthLabel=1==end?"month":"months";return 0===start?end+" "+monthLabel:0==end?start+" "+yearLabel:start+` ${yearLabel} ${end} `+monthLabel}function generateHighlightlist(highlights){return templateArrayToString(d=>`<li>${d}</li>`,highlights)}function socialMediaIcon(media){return{GitHub:"fab fa-github-square",LinkedIn:"fab fa-linkedin",Facebook:"fab fa-facebook-square","dev.to":"fa-brands fa-dev"}[media]||"far fa-user"}function getFile(fileUrl){return fetch(fileUrl).then(response=>{if(response.ok)return response.json();throw new Error(response.status+" "+response.statusText)}).catch(error=>{window.alert(error)})}function parseWorkDate(strDate){return 0<strDate.length?month[parseInt(strDate.split("-")[1])]+" "+strDate.split("-")[0]:"Present"}generateResume();